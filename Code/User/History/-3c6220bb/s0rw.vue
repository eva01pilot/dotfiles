<script setup lang="ts">
import { BellIcon, Bars3CenterLeftIcon  } from "@heroicons/vue/24/solid";
import { computed, ref } from "vue";
const searchTopBar = ref<HTMLInputElement>(null!)
const showIcon = ref(true)
const search = ref('')
showIcon.value = search.value.length === 0
const props = defineProps<{
    isBurgerNav: boolean
}>()
const emit = defineEmits(['navOpen'])
const onNavClick = () =>{
    console.log('click')
    emit('navOpen')
}
</script>
<template>
    <nav class=" w-full flex flex-row items-center justify-between p-[8px_16px] border-b border-b-gray-200">
        <div class="flex flex-row items-center w-1/3 justify-between">
            <img v-if="!props.isBurgerNav" src="/Logo.svg" />
            <Bars3CenterLeftIcon @click="onNavClick" class="w-8 h-8" v-else/>
            <div class="relative md:w-4/5 md:block hidden">
                <input ref="searchTopBar" :value="search" @input="(e)=>{
                        search=(e.target as HTMLInputElement).value
                        showIcon = search.length === 0 
                    }"
                    class="relative md:w-4/5 border rounded-xl py-[6.5px] px-[7.5px] bg-gray-50 border-gray-200"
                    placeholder="" />
                <div v-if="showIcon" @click="()=>{
                    showIcon = false
                    searchTopBar.focus()
                    }" class="absolute inset-2 flex flex-row items-center p-2">
                    <img src="/Search.svg" class=" text-gray-500" />
                    <span class="text-gray-500 p-2">Search</span>
                </div>
            </div>
        </div>
        <div class="flex flex-row items-center ">
            <div class="p-2">
                <BellIcon class="h-8 w-8 text-black" />
            </div>
            <img src="/Avatar.png" class="rounded-full" width="48" />
        </div>
    </nav>
</template>